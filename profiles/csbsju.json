{
  "remote_storage": {
    "AWS_ACCESS_KEY_ID": "<key here>",
    "AWS_SECRET_ACCESS_KEY": "<key here>",
    "AWS_REGION": "us-west-2",
    "AWS_BUCKET": "dpla.hub.umn.csbsju"
  },
  "validator": {
    "base_url": "http://localhost:8083/api/v1/validate",
    "api_key": "<key here>",
    "dpla_api_key": "<key here>"
  },
  "extractor": {
    "records": {
      "base_url": "http://localhost:8083/api/v1/extract",
      "endpoint_type": "oai_dc",
      "api_key": "<key here>",
      "origin_path": "records",
      "endpoint": "http://cdm.csbsju.edu/oai/oai.php",
      "suppress_prefix": true,
      "cache_response": true
    },
    "enrichments": [
      {
        "url": "http://localhost:3009/api/v1/extract?endpoint_type=oai_dc&api_key=<key here>&verb=ListSets&endpoint=http://cdm.csbsju.edu/oai/oai.php&cache_response=true",
        "key": "listSets"
      }
    ]
  },
  "transformer": {
    "base_url": "http://localhost:8083/api/v1/transform",
    "api_key": "<key here>",
    "@context": {
      "edm": "http://www.europeana.eu/schemas/edm/",
      "isShownAt": "edm:isShownAt",
      "dpla": "http://dp.la/terms/",
      "dataProvider": "edm:dataProvider",
      "aggregatedDigitalResource": "dpla:aggregatedDigitalResource",
      "state": "dpla:state",
      "hasView": "edm:hasView",
      "provider": "edm:provider",
      "collection": "dpla:aggregation",
      "object": "edm:object",
      "stateLocatedIn": "dpla:stateLocatedIn",
      "begin": {
        "@type": "xsd:date",
        "@id": "dpla:dateRangeStart"
      },
      "@vocab": "http://purl.org/dc/terms/",
      "LCSH": "http://id.loc.gov/authorities/subjects",
      "sourceResource": "edm:source0.Resource",
      "name": "xsd:string",
      "coordinates": "dpla:coordinates",
      "end": {
        "@type": "xsd:date",
        "@id": "dpla:dateRangeEnd"
      },
      "originalRecord": "dpla:originalRecord"
    },
    "fields": {
      "pushToDPLA": {
        "origins": [
          {
            "value": true
          }
        ]
      },
      "isShownAt": {
        "origins": [
          {
            "path": "metadata/dc/identifier[last()]||metadata/dc/identifier"
          }
        ]
      },
      "provider": {
        "origins": [
          {
            "value": {
              "@id": "http://dp.la/api/contributor/mdl",
              "name": "Minnesota Digital Library"
            }
          }
        ]
      },
      "identifier": {
        "origins": [
          {
            "path": "header/identifier"
          }
        ]
      },
      "title": {
        "origins": [
          {
            "path": "metadata/dc/title"
          }
        ],
        "processors": [
          {
            "process": "strip"
          }
        ]
      },
      "sourceResource/title": {
        "origins": [
          {
            "path": "metadata/dc/title"
          }
        ],
        "processors": [
          {
            "process": "strip"
          }
        ]
      },
      "sourceResource/rights": {
        "origins": [
          {
            "path": "metadata/dc/rights"
          }
        ],
        "processors": [
          {
            "process": "strip"
          }
        ]
      },
      "object": {
        "origins": [
          {
            "path": "header/identifier"
          }
        ],
        "processors": [
          {
            "process": "gsub",
            "args": {
              "pattern": "/",
              "replacement": "/id/"
            }
          },
          {
            "process": "gsub",
            "args": {
              "pattern": "oai:cdm.csbsju.edu:",
              "replacement": "http://cdm.csbsju.edu/utils/getthumbnail/collection/"
            }
          }
        ]
      },
      "sourceResource/description": {
        "origins": [
          {
            "path": "metadata/dc/description"
          }
        ],
        "processors": [
          {
            "process": "strip"
          }
        ]
      },
      "sourceResource/collection/title": {
        "lookup_keys": [
          {
            "token": "$setSpec",
            "path": "header/setSpec"
          }
        ],
        "origins": [
          {
            "path": "enrichments/listSets/records/$setSpec/setName"
          }
        ]
      },
      "sourceResource/collection/description": {
        "lookup_keys": [
          {
            "token": "$setSpec",
            "path": "header/setSpec"
          }
        ],
        "origins": [
          {
            "path": "enrichments/listSets/records/$setSpec/setDescription/dc/description"
          }
        ]
      }
    }
  }
}
